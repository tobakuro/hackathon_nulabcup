# ゲーム設計

## コンセプト

GitHubアカウントでログインし、自分の過去のリポジトリから出題される4択問題に答えて「ヌー」を賭けて戦うリアルタイム1on1バトル。

> 未来 → 朝倉未来 → BreakingDown → 1分間の1on1

## 試合の流れ

1. GitHubログイン
2. マッチング（レート別待機キュー）
3. 試合開始
   - 両者のリポジトリからコードスニペットを取得
   - LLMが4択問題を生成（並行処理）
   - 合計4問（Easy×2, Normal×1, Hard×1）
   - 1問あたり15秒 → 合計60秒（1分間勝負） # これはなくてもいいかも
4. 勝敗判定（ポイント制ヌー）
5. リザルト表示

## 問題フォーマット

- 出題元: 各ユーザーの**自分自身のリポジトリ**からランダム抽出
- 形式: 4択選択式
- 難易度:
  - **Easy**: 変数名・使用ライブラリ・基本構文
  - **Normal**: 関数の戻り値・ループの挙動・スコープ
  - **Hard**: 潜在バグ・パフォーマンス問題・非推奨な書き方
- 回答後: その技術のTipsを表示

## ヌー（通貨）設計

- 初期付与: 新規登録時に **1000ヌー**
- 獲得: 正解でヌーゲット
- 賭け: 「じぶんにヌーを掛ける」機能（何問かごとに賭けられる）
- 勝敗: ポイント制でヌーが増減
- 切断時: 残ったプレイヤーをTKO勝利とし、ベットヌー＋ボーナスを付与

## タイマー仕様

- 1問15秒
- タイマーは `ev_turn_start` をUIがレンダリングした時点でカウント開始（サーバー受信ではなく表示完了から）
- タイムアウト時は未回答扱い（不正解）

## 難易度バランス（1試合の構成）

| 問題番号 | 難易度 | 出題元               |
| -------- | ------ | -------------------- |
| 1問目    | Easy   | 対戦相手のリポジトリ |
| 2問目    | Easy   | 自分のリポジトリ     |
| 3問目    | Normal | 対戦相手のリポジトリ |
| 4問目    | Hard   | 自分のリポジトリ     |

> 注: 難易度の検証はLLMに委ねず、出題順序のみ固定する割り切り方針。
